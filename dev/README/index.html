<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>PDFIO · PDFIO</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>PDFIO</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>PDFIO</a><ul class="internal"><li><a class="toctext" href="#Need-for-a-PDF-Reader-API-1">Need for a PDF Reader API</a></li><li><a class="toctext" href="#Installation-1">Installation</a></li><li><a class="toctext" href="#Sample-Code-1">Sample Code</a></li><li><a class="toctext" href="#Features-1">Features</a></li><li><a class="toctext" href="#Licensing-1">Licensing</a></li><li><a class="toctext" href="#Contribution-1">Contribution</a></li><li><a class="toctext" href="#Similar-Packages-1">Similar Packages</a></li><li><a class="toctext" href="#Reference-to-Adobe-1">Reference to Adobe</a></li><li><a class="toctext" href="#Test-files-1">Test files</a></li></ul></li><li><a class="toctext" href="../arch/">Architecture and Design</a></li><li><a class="toctext" href="../encrypt/">Encryption in PDF</a></li><li><a class="toctext" href="../digsig/">Digital Signatures</a></li><li><a class="toctext" href="../">API Reference</a></li><li><a class="toctext" href="../LICENSE/">PDFIO License</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>PDFIO</a></li></ul><a class="edit-page" href="https://github.com/sambitdash/PDFIO.jl/blob/master/README.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>PDFIO</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="PDFIO-1" href="#PDFIO-1">PDFIO</a></h1><p><a href="https://travis-ci.org/sambitdash/PDFIO.jl"><img src="https://travis-ci.org/sambitdash/PDFIO.jl.svg?branch=master" alt="*nix Status"/></a> <a href="https://ci.appveyor.com/project/sambitdash/pdfio-jl"><img src="https://ci.appveyor.com/api/projects/status/9cocsctqdkx603q0?svg=true" alt="Win status"/></a> <a href="http://codecov.io/github/sambitdash/PDFIO.jl?branch=master"><img src="http://codecov.io/github/sambitdash/PDFIO.jl/coverage.svg?branch=master" alt="codecov.io"/></a> <a href="https://sambitdash.github.io/PDFIO.jl/dev"><img src="https://img.shields.io/badge/docs-latest-blue.svg" alt="Doc Latest"/></a> <a href="https://sambitdash.github.io/PDFIO.jl/stable"><img src="https://img.shields.io/badge/docs-stable-blue.svg" alt="Doc Stable"/></a></p><p>PDFIO is a native Julia implementation for reading PDF files. It&#39;s an 100% Julia  implementation of the PDF specification. Other than a few well established  algorithms like flate decode (<code>zlib</code> library) or cryptographic operations  (<code>openssl</code> library) almost all of the APIs are written in native Julia. </p><h2><a class="nav-anchor" id="Need-for-a-PDF-Reader-API-1" href="#Need-for-a-PDF-Reader-API-1">Need for a PDF Reader API</a></h2><p>The following are some of the benefits of utilizing this approach:</p><ol><li>PDF files are in existence for over three decades. Implementations of the PDF writers are not always to the specification or they may even vary significantly from vendor to vendor. Everytime, you get a new PDF file there is a possibility that it may not work to the best interpretation of the specification. A script based language makes it easier for the consumers to quickly modify the code and enhance to their specific needs. </li><li>When a higher level scripting language implements a C/C++ PDF library API, the scope is confined to achieving certain high level application tasks like,  graphics or text extraction; annotation or signature content extraction or  page merging or extraction. However, this API represents the PDF  specification as a model (in MVC parlance). Every object in PDF  specification can be represented in some form through these APIs. Hence,  objects can be utilized effectively to understand document structure or  correlate documents in more meaningful ways. </li><li>Potential to be extended as a PDF generator. Since, the API is written as an  object model of PDF documents, it&#39;s easier to extend with additional PDF  write or update capabilities.</li></ol><p>There are also certain downsides to this approach:</p><ol><li>Any API that represents an object model of a document, tends to carry the  complexity of introducing abstract objects, often opaque objects (handles)  that are merely representational for an API user. They may not have any  functional meaning. The methods tend to be granular than a method that can  complete a user level task. </li><li>The user may need to refer to the PDF specification for having a complete  semantic understanding.</li><li>The amount of code needed to carry out certain tasks can be substantially  higher. </li></ol><h3><a class="nav-anchor" id="Illustration-1" href="#Illustration-1">Illustration</a></h3><p>A popular package <code>Taro.jl</code> that utilizes Java based <a href="http://tika.apache.org/">Apache Tika</a>, <a href="http://poi.apache.org/">Apache POI</a> and <a href="https://xmlgraphics.apache.org/fop/">Apache FOP</a> libraries for reading PDF and other file types may need the following code to extract text and other metadata from the document.</p><pre><code class="language-julia">using Taro
Taro.init()
meta, txtdata = Taro.extract(&quot;sample.pdf&quot;);
</code></pre><p>While the same with <code>PDFIO</code> may look like below:</p><pre><code class="language-julia">function getPDFText(src, out)
    doc = pdDocOpen(src)
    docinfo = pdDocGetInfo(doc)
    open(out, &quot;w&quot;) do io
		npage = pdDocGetPageCount(doc)
        for i=1:npage
            page = pdDocGetPage(doc, i)
            pdPageExtractText(io, page)
        end
    end
    pdDocClose(doc)
    return docinfo
end
</code></pre><h2><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h2><p>The package can be added to a project by the command below:</p><pre><code class="language-julia">julia&gt; Pkg.add(&quot;PDFIO&quot;)</code></pre><p>The current version of the API requires <code>julia 1.0</code>. The detailed list of packages  <code>PDFIO</code> depends on can be seen in the <a href="Project.toml">Project.toml</a> file. </p><h2><a class="nav-anchor" id="Sample-Code-1" href="#Sample-Code-1">Sample Code</a></h2><p>The above mentioned code takes a PDF file <code>src</code> as input and writes the text data into a file <code>out</code>. It enumerates all the pages in the document and extracts the text from the pages. The extracted text is written to the output file. </p><pre><code class="language-julia line_numbers">&quot;&quot;&quot;
​```
	getPDFText(src, out) -&gt; Dict 
​```
- src - Input PDF file from where text is to be extracted
- out - Output TXT file where the output will be written
return - A dictionary containing metadata of the document
&quot;&quot;&quot;
function getPDFText(src, out)
    doc = pdDocOpen(src)</code></pre><p>Provides <code>doc</code> handle that can be used for subsequence operations on the document.</p><pre><code class="language-julia">    docinfo = pdDocGetInfo(doc) </code></pre><p>Metadata extracted from the PDF document. This value is retained and returned as the return from the function. </p><pre><code class="language-julia">    open(out, &quot;w&quot;) do io
		npage = pdDocGetPageCount(doc)</code></pre><p>Returns number of pages in the document</p><pre><code class="language-julia">        for i=1:npage
            page = pdDocGetPage(doc, i)</code></pre><p>Returns a <code>page</code> handle to the specific page given the number number index. </p><pre><code class="language-julia">            pdPageExtractText(io, page)</code></pre><p>Extract text from the page and write it to the output file.</p><pre><code class="language-julia">        end
    end
    pdDocClose(doc)</code></pre><p>Close the document handle. The <code>doc</code> handle should not be used after this call</p><pre><code class="language-julia">    return docinfo
end</code></pre><p>As can be seen above, granular APIs are provided in <code>PDFIO</code> that can be used in combination to achieve a desirable task. For details, please refer to the <a href="../arch/#Architecture-and-Design-1">Architecture and Design</a>.</p><h2><a class="nav-anchor" id="Features-1" href="#Features-1">Features</a></h2><p><code>PDFIO</code> is implemented in layers enabling following features:</p><ol><li>Extract and render the Contents in of a PDF page. This ensures the contents are organized in a hierarchical grouping, that can be used for rendering of the content. Rendering is used here in a generic sense and not confined to painting on a raster device. For example, extracting document text can also be considered as a rendering task. <code>pdPageExtractText</code> is an apt example of the same. </li><li>Provide functional tasks to PDF document access. A few of such functionalities are:<ul><li>Getting the page count in a document (<a href="../#PDFIO.PD.pdDocGetPageCount"><code>pdDocGetPageCount</code></a>)</li><li>Finding labels in a document page (<a href="../#PDFIO.PD.pdDocGetPageLabel"><code>pdDocGetPageLabel</code></a>)</li><li>Extracting outlines defined in the document (<a href="../#PDFIO.PD.pdDocGetOutline"><code>pdDocGetOutline</code></a>)</li><li>Extracting document metadata information (<a href="../#PDFIO.PD.pdDocGetInfo"><code>pdDocGetInfo</code></a>)</li><li>Validation of signatures in a PDF document (<a href="../#PDFIO.PD.pdDocValidateSignatures"><code>pdDocValidateSignatures</code></a>)</li><li>Extracting fonts and font attributes (<a href="../#PDFIO.PD.pdPageGetFonts"><code>pdPageGetFonts</code></a>, <a href="../#PDFIO.PD.pdFontIsItalic"><code>pdFontIsItalic</code></a> etc.)</li></ul></li><li>Access low level PDF objects and obtain information when high level APIs do not exist. </li></ol><p>The <a href="../arch/#Architecture-and-Design-1">Architecture and Design</a> discusses some of these scenarios. </p><h2><a class="nav-anchor" id="Licensing-1" href="#Licensing-1">Licensing</a></h2><p><code>PDFIO</code> is developed to contribute to both commercial activities and scientific research alike. However, we strongly discourage usage of this product for any illegal, immoral or unethical purposes. <a href="../LICENSE/#PDFIO-License-1">PDFIO License</a> while provides rights under a permissible <code>MIT Expat License</code>, is conditioned upon maintaining strong moral, ethical and legal standards of the final outcome.</p><p><em>This product includes software developed by the OpenSSL Project for use in the OpenSSL Toolkit. (http://www.openssl.org/)</em></p><h2><a class="nav-anchor" id="Contribution-1" href="#Contribution-1">Contribution</a></h2><p>Contributions in form of PRs are welcome for any feature you will like to develop for the <code>PDFIO</code> library. You are requested to review the <a href="https://github.com/sambitdash/PDFIO.jl/issues">GitHub Issues</a> section to understand the known issues. You can take up few of the issues, work on them and submit a PR. If you come across a bug or are unable to use the APIs in any manner, feel free to submit an issue. </p><h2><a class="nav-anchor" id="Similar-Packages-1" href="#Similar-Packages-1">Similar Packages</a></h2><p><a href="https://github.com/aviks/Taro.jl">Taro.jl</a> is an alternate package in Julia that provides reading and extracting content from a PDF files. </p><h2><a class="nav-anchor" id="Reference-to-Adobe-1" href="#Reference-to-Adobe-1">Reference to Adobe</a></h2><p>It&#39;s almost impossible to talk PDF without reference to Adobe. All copyrights or trademarks that are owned by Adobe or ISO, which have been referred to inadvertently without stating ownership, are owned by them. The author also has been part of Adobe&#39;s development culture in early part of his career with specific to PDF technology for about 2 years. However, the author has not been part of any activities related to PDF development from 2003. Hence, this API can  be considered a clean room development. Usage of words like  Carousel and Cos are pretty much public knowledge and large number of reference  to the same can be obtained from industry related websites etc.</p><p>The package contains <a href="http://www.adobe.com/devnet/font.html">Adobe Font Metrics (AFM)</a> for 14 Core Adobe fonts. </p><h2><a class="nav-anchor" id="Test-files-1" href="#Test-files-1">Test files</a></h2><p>Not all PDF files that were used to test the library has been owned by the author. Hence, the author cannot make those files available to general public for distribution under the source code license. However, the author is grateful to the PDF document <a href="http://www.stillhq.com/pdfdb/db.html">library</a> maintained by <a href="mikal@stillhq.com">mikal@stillhq.com</a>. However, these files are no longer available in the link above. </p><p>Some files are also included from <a href="https://github.com/openpreserve/format-corpus/tree/master/pdfCabinetOfHorrors">openpreserve</a>. These files can be distributed with <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p><p>However, test files may have different licensing that the <code>PDFIO</code>. Hence we have now uploaded most test files to another project under <a href="https://github.com/sambitdash/PDFTest">PDFTest</a>.</p><footer><hr/><a class="next" href="../arch/"><span class="direction">Next</span><span class="title">Architecture and Design</span></a></footer></article></body></html>
